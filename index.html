<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L√¨ X√¨ 2026 Pro Max</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    text-align: center;
    background: radial-gradient(circle, #ff0000, #8b0000);
    color: white;
    overflow-x: hidden;
}

.container {
    padding-top: 80px;
}

h1 {
    font-size: 38px;
}

button {
    padding: 15px 30px;
    font-size: 18px;
    border: none;
    border-radius: 30px;
    background: gold;
    color: #8b0000;
    cursor: pointer;
    font-weight: bold;
}

button:hover {
    transform: scale(1.05);
}

.result {
    margin-top: 30px;
    font-size: 28px;
    font-weight: bold;
}

#leaderboard {
    margin-top: 40px;
}

canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
}
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div class="container">
    <h1>üßß L√å X√å 2026 PRO MAX üßß</h1>
    <button onclick="openLixi()">M·ªü L√¨ X√¨</button>
    <div class="result" id="result"></div>

    <div id="leaderboard">
        <h2>üèÜ Top M·ªü Nhi·ªÅu Nh·∫•t</h2>
        <ul id="topList"></ul>
    </div>
</div>

<audio id="tetSound">
    <source src="https://www.soundjay.com/human/applause-8.mp3" type="audio/mpeg">
</audio>

<script>
const rewards = [
    {amount: 10000, weight: 30},
    {amount: 20000, weight: 25},
    {amount: 50000, weight: 20},
    {amount: 100000, weight: 15},
    {amount: 200000, weight: 7},
    {amount: 500000, weight: 2},
    {amount: 1000000, weight: 1}
];

function getWeightedRandom() {
    const totalWeight = rewards.reduce((sum, r) => sum + r.weight, 0);
    let random = Math.random() * totalWeight;
    for (let r of rewards) {
        if (random < r.weight) return r.amount;
        random -= r.weight;
    }
}

function openLixi() {
    if(localStorage.getItem("opened")) {
        document.getElementById("result").innerHTML = "‚ùå B·∫°n ƒë√£ m·ªü l√¨ x√¨ r·ªìi!";
        return;
    }

    let money = getWeightedRandom();
    localStorage.setItem("opened", "true");
    localStorage.setItem("money", money);

    document.getElementById("result").innerHTML =
        "üéâ B·∫°n nh·∫≠n ƒë∆∞·ª£c " + money.toLocaleString() + "ƒë üéâ";

    document.getElementById("tetSound").play();
    launchFireworks();
    updateLeaderboard(money);
}

function updateLeaderboard(money) {
    let list = JSON.parse(localStorage.getItem("leaderboard") || "[]");
    list.push(money);
    list.sort((a,b)=>b-a);
    list = list.slice(0,5);
    localStorage.setItem("leaderboard", JSON.stringify(list));

    let ul = document.getElementById("topList");
    ul.innerHTML = "";
    list.forEach((m,i)=>{
        ul.innerHTML += "<li>#" + (i+1) + " - " + m.toLocaleString() + "ƒë</li>";
    });
}

window.onload = function() {
    if(localStorage.getItem("opened")) {
        document.getElementById("result").innerHTML =
            "üéâ B·∫°n ƒë√£ nh·∫≠n " + 
            parseInt(localStorage.getItem("money")).toLocaleString() + "ƒë";
    }
    updateLeaderboard(0);
}

// Fireworks
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

function launchFireworks() {
    for(let i=0;i<50;i++){
        ctx.beginPath();
        ctx.arc(Math.random()*canvas.width,
                Math.random()*canvas.height,
                3,0,Math.PI*2);
        ctx.fillStyle="yellow";
        ctx.fill();
    }
}
</script>

</body>
</html> 
